<div class="text-center p-5">
  <div class="font-28 fw-7 pb-3">Update Profile</div>

  <div>
    <img class="userImg" *ngIf="user?.imgUrl" [src]="user.imgUrl" alt="" />
  </div>
  <label class="font-12" for="imageInput">
    <div>
    <img class="userImg"  *ngIf="!user?.imgUrl" src="../../../../assets/images/placeholder_img.svg" alt="" />

    </div>
    {{ user.imgUrl ? "Change Image" : "Upload Image" }}(20KB)
    <input
      class="d-none"
      id="imageInput"
      #imageInput
      type="file"
      accept="image/*"
      (change)="uploadImg(imageInput)"
    />
  </label>

  <form class="mt-3" [formGroup]="form">
    <div class="d-flex">
      <div class="flex-fill">
        <div class="form-box me-2">
          <img src="assets/images/onboarding/user.png" alt="" class="me-2" />
          <input
            formControlName="firstName"
            type="text"
            placeholder=" First Name"
            class="form-field"
          />
        </div>
        <div
          class="font-12 text-danger text-start ms-4"
          *ngIf="
            !form.get('firstName')?.valid &&
            form.get('firstName')?.touched &&
            !form.get('firstName')?.value
          "
        >
          First Name required
        </div>
      </div>
      <div class="flex-fill">
        <div class="form-box ms-2">
          <img src="assets/images/onboarding/user.png" alt="" class="me-2" />
          <input
            formControlName="lastName"
            type="text"
            placeholder=" Last Name"
            class="form-field"
          />
        </div>
      </div>
    </div>
    <div class="d-flex">
      <div class="flex-fill">
        <div class="form-box me-2">
          <img src="assets/images/onboarding/email.png" alt="" class="me-2" />
          <input
            formControlName="email"
            type="text"
            placeholder=" Email"
            class="form-field"
          />
        </div>
        <div
          class="font-12 text-danger text-start ms-4"
          *ngIf="
            !form.get('email')?.valid &&
            form.get('email')?.touched &&
            !form.get('email')?.value
          "
        >
          Email required!
        </div>
      </div>
      <div class="flex-fill">
        <div class="form-box ms-2">
          <img src="assets/images/onboarding/phone.png" alt="" class="me-2" />
          <input
            formControlName="mobile"
            type="number"
            placeholder="Mobile Number"
            class="form-field"
          />
        </div>
        <div
          class="font-12 text-danger text-start ms-4"
          *ngIf="
            !form.get('mobile')?.valid &&
            form.get('mobile')?.touched &&
            !form.get('mobile')?.value
          "
        >
          Mobile Number required!
        </div>
      </div>
    </div>
    <div class="d-flex">
      <div class="flex-fill">
        <div class="form-dropdown me-2">
          <img src="../../../../assets/images/onboarding/world.png" alt="" />
          <p-dropdown
            [options]="countries"
            (onChange)="fetchStates($event.value)"
            formControlName="country"
            optionLabel="name"
            [filter]="true"
            filterBy="name"
            [placeholder]="user?.country || 'Country'"
          >
          </p-dropdown>
        </div>
      </div>
      <div class="flex-fill">
        <div class="form-dropdown ms-2">
          <img src="../../../../assets/images/onboarding/world.png" alt="" />
          <p-dropdown
            [options]="states"
            (onChange)="selectedState = $event.value"
            formControlName="state"
            [placeholder]="user?.state || 'State'"
          >
          </p-dropdown>
        </div>
      </div>
    </div>
  </form>
  <button class="theme-btn hover mt-4" (click)="submit()">
    Update!
  </button>
</div>
